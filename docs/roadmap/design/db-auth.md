## 数据权限管理

#### 版本记录

日期 |内容|撰写人
|---|---|---|
2022/04/26| V1.0 初版| 刘胜杰

## 人员
- 需求提出： 刘胜杰
- 研发： 刘胜杰
- 抄送：

## 问题
    查询数据需要权限控制，以保护数据安全

## 目标
   - 实现权限申请及审批流程
   - 数据查询及任务提交添加权限控制
   - 支持后续可能出现的，更多的数据系统的权限管理

## 设计

### 整体设计
    普通用户提交请求对库-表的权限申请，管理员进行审批及普通用户的权限删除

### 详细设计

#### 页面
- 权限申请及审批列表。
- 人员权限列表-库类型-所拥有的db列表等。

#### 表
审批task表
    
    是否可与sql审核用同一个表？是否所有的审批流程用同样的表及类似的流程？
    用同一个表，逻辑会交织到一起，不便于处理不同情况。
    用不同的表，可能会同样的逻辑写多遍，浪费。

    可以优先考虑用同一个表。

    taskID
    UserId
    DataType
    Cluster
    DB

权限表
    
    UserId
    DataType
    Cluster
    DB []string

## 排期

- [x] 后端接口ready @刘胜杰 2020-5-3 
- [x] 前端页面ready 并调通管理 2020-5-5
- [x] sql审核db list经权限过滤 2022-5-7